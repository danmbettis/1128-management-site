<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>1128 Management Corp – C-Corp Setup + Client Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg:#050816;
      --panel:#0b1224;
      --card:#0f1b33;
      --border:#1f2b46;
      --muted:#a7b0c0;
      --text:#f2f6ff;
      --accent:#2dd4bf;
      --accent2:#3b82f6;
      --warn:#f59e0b;
      --ok:#22c55e;
      --danger:#ef4444;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:radial-gradient(1200px 600px at 50% 0%, #0b1a3a 0%, var(--bg) 60%);color:var(--text)}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:0 18px}
    header{
      position:sticky;top:0;z-index:10;
      background:rgba(5,8,22,.7);backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(31,43,70,.6);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:12px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
    .logo{width:34px;height:34px;border-radius:10px;display:grid;place-items:center;
      background:linear-gradient(135deg,var(--accent2),var(--accent));font-weight:900}
    .links{display:flex;gap:14px;flex-wrap:wrap;justify-content:flex-end}
    .pill{border:1px solid rgba(31,43,70,.9);padding:8px 12px;border-radius:999px;color:var(--muted)}
    .pill:hover{border-color:rgba(45,212,191,.7);color:var(--text)}
    section{padding:54px 0}
    .hero{display:grid;grid-template-columns: 1.2fr .8fr;gap:18px;align-items:start}
    @media (max-width:900px){.hero{grid-template-columns:1fr}}
    .card{
      background:linear-gradient(180deg, rgba(15,27,51,.9), rgba(11,18,36,.9));
      border:1px solid rgba(31,43,70,.9);
      border-radius:18px;padding:18px 18px;
      box-shadow:0 10px 30px rgba(0,0,0,.25);
    }
    h1{font-size:40px;line-height:1.1;margin:0 0 10px}
    h2{font-size:26px;margin:0 0 10px}
    h3{font-size:18px;margin:0 0 10px}
    p{color:var(--muted);margin:0 0 10px;line-height:1.55}
    .btn{
      border:none;border-radius:12px;cursor:pointer;
      padding:11px 14px;font-weight:700;color:white;
      background:linear-gradient(90deg,var(--accent2),var(--accent));
    }
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .btn2{
      border:1px solid rgba(31,43,70,.9);border-radius:12px;cursor:pointer;
      padding:11px 14px;font-weight:700;color:var(--text);background:transparent;
    }
    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width:900px){.grid3{grid-template-columns:1fr}}
    .tag{display:inline-flex;align-items:center;gap:8px;border:1px solid rgba(31,43,70,.9);
      border-radius:999px;padding:6px 10px;color:var(--muted);font-size:12px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .field{margin:10px 0}
    input{
      width:100%;padding:11px 12px;border-radius:12px;
      background:rgba(2,6,23,.7);border:1px solid rgba(31,43,70,.9);
      color:var(--text);outline:none;
    }
    input:focus{border-color:rgba(45,212,191,.65)}
    .hint{font-size:12px;color:var(--muted);margin-top:8px}
    .statusbar{display:flex;align-items:center;gap:10px;justify-content:space-between;flex-wrap:wrap}
    .badge{
      display:inline-flex;align-items:center;justify-content:center;
      padding:5px 10px;border-radius:999px;font-size:12px;font-weight:800;
      border:1px solid rgba(31,43,70,.9); color:var(--text);
    }
    .b-pending{border-color:rgba(245,158,11,.6)}
    .b-progress{border-color:rgba(59,130,246,.6)}
    .b-done{border-color:rgba(34,197,94,.6)}
    .b-error{border-color:rgba(239,68,68,.6)}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:12px 10px;border-bottom:1px solid rgba(31,43,70,.65);vertical-align:top}
    th{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.12em;text-align:left}
    td{font-size:14px}
    .note{color:var(--muted);font-size:13px;white-space:pre-wrap}
    footer{padding:26px 0;border-top:1px solid rgba(31,43,70,.6);color:var(--muted);text-align:center}
    .hide{display:none !important}
  </style>
</head>

<body>

<header>
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <div class="logo">1128</div>
        <div>
          <div style="font-size:14px; font-weight:900;">1128 MANAGEMENT CORP</div>
          <div style="font-size:12px;color:var(--muted);margin-top:2px;">C-Corp Setup • Management • Client Portal</div>
        </div>
      </div>

      <div class="links">
        <a class="pill" href="#overview">Overview</a>
        <a class="pill" href="#ccorp">C-Corp Setup</a>
        <a class="pill" href="#addons">Add-On Services</a>
        <a class="pill" href="#portal">Client Portal</a>
        <a class="pill" href="https://buy.stripe.com/4gM00jddY2Q228qanU1ck07" target="_blank" rel="noopener">Buy Credits</a>
      </div>
    </div>
  </div>
</header>

<section id="overview">
  <div class="wrap">
    <div class="hero">
      <div>
        <h1>Get your C-Corp set up and professionally organized — with clear updates in one portal.</h1>
        <p>
          1128 Management Corp provides service-based business setup and management support.
          Clients use the portal to view status, checklist progress, and admin notes.
        </p>

        <div class="row" style="margin-top:14px;">
          <span class="tag">Process starts within ~3 business days</span>
          <span class="tag">Minimum expectation for full results: ~90 days</span>
          <span class="tag">Client portal updates & documentation backup</span>
        </div>

        <div class="row" style="margin-top:16px;">
          <a class="btn" href="#ccorp">View C-Corp Package</a>
          <a class="btn2" href="#portal">Client Portal Login</a>
        </div>
      </div>

      <div class="card">
        <h3>Support Credits (Public)</h3>
        <p>Use credits to support setup work or pay toward services.</p>
        <div class="row" style="margin-top:12px;">
          <a class="btn" href="https://buy.stripe.com/4gM00jddY2Q228qanU1ck07" target="_blank" rel="noopener">Buy Credits</a>
        </div>
        <p class="hint">Credits are processed through Stripe.</p>
      </div>
    </div>
  </div>
</section>

<section id="ccorp">
  <div class="wrap">
    <div class="card">
      <h2>$300 Total Bundle — C-Corp Setup Package</h2>
      <p>(Service fee — state/government fees are included.)</p>

      <div class="grid3" style="margin-top:12px;">
        <div class="card" style="padding:14px;">
          <h3>Included</h3>
          <p class="note">Incorporation • EIN • Address • Phone • Email • Website • Banking setup guidance • Payment processing setup</p>
        </div>
        <div class="card" style="padding:14px;">
          <h3>Timeline</h3>
          <p class="note">Work begins within ~3 business days after signup + intake. Minimum expectation for full results is ~90 days.</p>
        </div>
        <div class="card" style="padding:14px;">
          <h3>Portal Updates</h3>
          <p class="note">Status checklist, admin notes, and key milestones are updated in the client portal as work progresses.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="addons">
  <div class="wrap">
    <div class="card">
      <h2>Add-On Services (Optional)</h2>
      <div class="grid3" style="margin-top:12px;">
        <div class="card" style="padding:14px;"><h3>Website Build/Rebuild</h3><p class="note">$399</p></div>
        <div class="card" style="padding:14px;"><h3>Business Phone & Email Setup</h3><p class="note">$89</p></div>
        <div class="card" style="padding:14px;"><h3>Corporate Document Creation</h3><p class="note">$89–$399</p></div>
        <div class="card" style="padding:14px;"><h3>Payment Processor Setup</h3><p class="note">$199</p></div>
        <div class="card" style="padding:14px;"><h3>Business Systems Setup</h3><p class="note">$299</p></div>
        <div class="card" style="padding:14px;"><h3>Strategy & Mapping</h3><p class="note">$999</p></div>
      </div>
    </div>
  </div>
</section>

<section id="portal">
  <div class="wrap">
    <div class="hero">
      <div class="card">
        <h2>Client Portal</h2>
        <p>
          This area is for active 1128 clients. After login, you’ll see your checklist, status, and admin notes.
          Clients do not edit portal data.
        </p>
        <p class="hint">If login feels slow, watch the status line. The page switches automatically once authenticated.</p>
      </div>

      <div class="card">
        <h3>Client Login</h3>

        <div class="field">
          <label style="color:var(--muted);font-size:12px;">Email</label>
          <input id="email" type="email" placeholder="you@email.com" autocomplete="username" />
        </div>

        <div class="field">
          <label style="color:var(--muted);font-size:12px;">Password</label>
          <input id="password" type="password" placeholder="••••••••" autocomplete="current-password" />
        </div>

        <div class="row" style="margin-top:10px;">
          <button id="btnLogin" class="btn">Login</button>
          <button id="btnRegister" class="btn2">Register New Client Account</button>
          <button id="btnLogout" class="btn2 hide">Logout</button>
        </div>

        <div id="authMsg" class="hint"></div>
      </div>
    </div>

    <div id="statusCard" class="card hide" style="margin-top:16px;">
      <div class="statusbar">
        <div>
          <h3 style="margin:0 0 6px;">Client Checklist & Status</h3>
          <div class="hint">This section appears only after you log in.</div>
        </div>
        <div style="text-align:right;">
          <div class="hint">Logged in as:</div>
          <div id="whoami" style="font-weight:800;"></div>
        </div>
      </div>

      <div class="row" style="margin-top:10px;align-items:center;justify-content:space-between;">
        <div class="row" style="align-items:center;">
          <div class="hint">Overall status:</div>
          <div id="overallBadge" class="badge b-pending">Pending</div>
        </div>
        <div class="hint">Last updated: <span id="updatedAt">—</span></div>
      </div>

      <table>
        <thead>
          <tr>
            <th style="width:34%;">Item</th>
            <th style="width:16%;">Status</th>
            <th>Admin Note</th>
          </tr>
        </thead>
        <tbody id="stepsBody"></tbody>
      </table>

      <div class="hint" style="margin-top:10px;">
        Portal data is updated by 1128 after work is completed or moved forward.
      </div>
    </div>

  </div>
</section>

<footer>
  © <span id="year"></span> 1128 Management Corp
</footer>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import {
    getAuth,
    onAuthStateChanged,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    signOut
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  import {
    getFirestore,
    doc,
    getDoc,
    setDoc,
    serverTimestamp
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

  // ✅ Your Firebase config (from your screenshot)
  const firebaseConfig = {
    apiKey: "AIzaSyDWgaRI40PO-fgP8xa_m1OWg-3AgOKCQW4",
    authDomain: "management-portal-da4aa.firebaseapp.com",
    projectId: "management-portal-da4aa",
    storageBucket: "management-portal-da4aa.firebasestorage.app",
    messagingSenderId: "336550662632",
    appId: "1:336550662632:web:da5a240a56fdd2df3a145d",
    measurementId: "G-CCWG9GVVS7"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // UI refs
  const $ = (id) => document.getElementById(id);
  const authMsg = $("authMsg");
  const btnLogin = $("btnLogin");
  const btnRegister = $("btnRegister");
  const btnLogout = $("btnLogout");
  const statusCard = $("statusCard");
  const stepsBody = $("stepsBody");
  const whoami = $("whoami");
  const updatedAtEl = $("updatedAt");
  const overallBadge = $("overallBadge");

  function setBusy(isBusy, msg="") {
    btnLogin.disabled = isBusy;
    btnRegister.disabled = isBusy;
    authMsg.textContent = msg;
  }

  function badgeClass(status){
    const s = String(status || "").toLowerCase();
    if (s.includes("complete")) return "badge b-done";
    if (s.includes("progress")) return "badge b-progress";
    if (s.includes("pending")) return "badge b-pending";
    return "badge";
  }

  function fmtTimestamp(ts){
    if (!ts) return "—";
    try{
      // Firestore Timestamp has toDate()
      const d = ts.toDate ? ts.toDate() : new Date(ts);
      return d.toLocaleString();
    }catch{
      return "—";
    }
  }

  async function loadClientStatus(uid){
    // We read from: clientStatus/{uid}
    const ref = doc(db, "clientStatus", uid);
    const snap = await getDoc(ref);

    // If no status doc exists yet, show a clean message (still portal-only)
    if (!snap.exists()){
      overallBadge.className = "badge b-pending";
      overallBadge.textContent = "Pending";
      updatedAtEl.textContent = "—";
      stepsBody.innerHTML = `
        <tr>
          <td colspan="3" class="note">Your checklist has not been created yet. 1128 will add it shortly.</td>
        </tr>`;
      return;
    }

    const data = snap.data() || {};
    const overall = data.overallStatus || "Pending";
    overallBadge.className = badgeClass(overall);
    overallBadge.textContent = overall;

    // Use updatedAt if you set it. If not, just show —
    updatedAtEl.textContent = fmtTimestamp(data.updatedAt);

    const steps = Array.isArray(data.steps) ? data.steps : [];
    if (!steps.length){
      stepsBody.innerHTML = `
        <tr>
          <td colspan="3" class="note">No checklist steps found yet.</td>
        </tr>`;
      return;
    }

    stepsBody.innerHTML = steps.map((s) => {
      const label = s?.label ?? "";
      const status = s?.status ?? "Pending";
      const note = s?.note ?? "";
      return `
        <tr>
          <td><strong>${escapeHtml(label)}</strong></td>
          <td><span class="${badgeClass(status)}">${escapeHtml(status)}</span></td>
          <td class="note">${escapeHtml(note)}</td>
        </tr>`;
    }).join("");
  }

  function escapeHtml(str){
    return String(str ?? "")
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  // Register (client-only). Creates auth user + creates a minimal status doc IF you want.
  // If you prefer that ONLY you (admin) create the status doc, set CREATE_EMPTY_STATUS_DOC = false.
  const CREATE_EMPTY_STATUS_DOC = false;

  btnRegister.addEventListener("click", async () => {
    const email = $("email").value.trim();
    const password = $("password").value;

    if (!email || !password){
      authMsg.textContent = "Enter email + password to register.";
      return;
    }

    setBusy(true, "Creating account…");
    try{
      const cred = await createUserWithEmailAndPassword(auth, email, password);

      // Optional: create an empty status doc so the portal has something to read.
      if (CREATE_EMPTY_STATUS_DOC){
        await setDoc(doc(db, "clientStatus", cred.user.uid), {
          overallStatus: "Pending",
          steps: [],
          updatedAt: serverTimestamp()
        }, { merge: true });
      }

      authMsg.textContent = "Account created. Loading portal…";
      $("password").value = "";
    }catch(e){
      authMsg.textContent = "Register failed: " + (e?.message || e);
    }finally{
      setBusy(false);
    }
  });

  btnLogin.addEventListener("click", async () => {
    const email = $("email").value.trim();
    const password = $("password").value;
    if (!email || !password){
      authMsg.textContent = "Enter email + password to login.";
      return;
    }

    setBusy(true, "Signing in…");
    try{
      await signInWithEmailAndPassword(auth, email, password);
      $("password").value = "";
    }catch(e){
      authMsg.textContent = "Login failed: " + (e?.message || e);
    }finally{
      setBusy(false);
    }
  });

  btnLogout.addEventListener("click", async () => {
    setBusy(true, "Signing out…");
    try{
      await signOut(auth);
    }catch(e){
      authMsg.textContent = "Logout failed: " + (e?.message || e);
    }finally{
      setBusy(false);
    }
  });

  onAuthStateChanged(auth, async (user) => {
    if (!user){
      // logged out
      statusCard.classList.add("hide");
      btnLogout.classList.add("hide");
      authMsg.textContent = "";
      whoami.textContent = "";
      return;
    }

    // logged in
    btnLogout.classList.remove("hide");
    statusCard.classList.remove("hide");
    whoami.textContent = user.email || user.uid;

    // Load status from Firestore
    authMsg.textContent = "Loading your checklist…";
    try{
      await loadClientStatus(user.uid);
      authMsg.textContent = "Signed in.";
    }catch(e){
      authMsg.textContent = "Could not load checklist: " + (e?.message || e);
    }
  });

  $("year").textContent = new Date().getFullYear();
</script>

</body>
</html>
