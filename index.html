<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>1128 Management Corp â€“ C-Corp Setup & Client Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="1128 Management Corp â€“ C-Corp setup, ongoing management, client portal, and status tracking." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020617;
      --card: #020617;
      --border: #1f2937;
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.18);
      --primary: #2563eb;
      --primary-soft: rgba(37,99,235,0.18);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --danger: #f97373;
      --success: #4ade80;
      --pending: #fbbf24;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #020617 0, #000 55%);
      color: var(--text);
      line-height: 1.6;
    }

    a { color: inherit; text-decoration: none; }
    button { font-family: inherit; cursor: pointer; }

    .container {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    /* NAV */
    header {
      position: sticky;
      top: 0;
      z-index: 40;
      backdrop-filter: blur(22px);
      background: linear-gradient(to bottom, rgba(15,23,42,0.98), rgba(15,23,42,0.85), transparent);
      border-bottom: 1px solid rgba(31,41,55,0.9);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.7rem 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.55rem;
    }

    .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 0.9rem;
      border: 1px solid rgba(148,163,184,0.7);
      background: radial-gradient(circle at 20% 0, #38bdf8, #6366f1, #020617);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.8rem;
      color: #e5e7eb;
    }

    .logo-text {
      display: flex;
      flex-direction: column;
    }

    .logo-text span:first-child {
      font-size: 0.9rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .logo-text span:last-child {
      font-size: 0.7rem;
      color: var(--muted);
    }

    .nav-links {
      display: flex;
      gap: 1.3rem;
      font-size: 0.86rem;
      color: var(--muted);
    }

    .nav-links a {
      padding: 0.25rem 0;
      position: relative;
    }

    .nav-links a:hover {
      color: #e5e7eb;
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -3px;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      transition: width 0.18s ease;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-cta {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .pill {
      font-size: 0.7rem;
      padding: 0.22rem 0.65rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 0.45rem 1.05rem;
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
      background: linear-gradient(to right, var(--primary), #22c55e);
      color: #f9fafb;
      box-shadow: 0 18px 45px rgba(15,118,110,0.45);
      white-space: nowrap;
    }

    .btn-outline {
      background: transparent;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      color: #e5e7eb;
      padding: 0.45rem 1.05rem;
      font-size: 0.8rem;
      white-space: nowrap;
    }

    .btn:disabled,
    .btn-outline:disabled {
      opacity: 0.6;
      cursor: default;
      box-shadow: none;
    }

    main {
      padding-bottom: 4rem;
    }

    section {
      padding: 4rem 0;
    }

    .section-eyebrow {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--accent);
      margin-bottom: 0.2rem;
    }

    .section-title {
      font-size: 1.7rem;
      font-weight: 600;
      margin-bottom: 0.35rem;
    }

    .section-subtitle {
      font-size: 0.9rem;
      color: var(--muted);
      max-width: 640px;
    }

    /* HERO */
    .hero {
      padding-top: 3rem;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0,1.3fr) minmax(0,1fr);
      gap: 2.5rem;
      align-items: center;
    }

    .hero-title {
      font-size: clamp(2.1rem, 2.5rem, 2.7rem);
      font-weight: 700;
      line-height: 1.1;
      margin-bottom: 0.7rem;
    }

    .hero-title span {
      background: linear-gradient(to right, #38bdf8, #a855f7, #22c55e);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      font-size: 0.95rem;
      color: var(--muted);
      max-width: 500px;
      margin-bottom: 1.2rem;
    }

    .hero-kicker {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.25rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: radial-gradient(circle at left, rgba(56,189,248,0.25), rgba(15,23,42,0.95));
      font-size: 0.78rem;
      color: var(--muted);
      margin-bottom: 1rem;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
    }

    .hero-note {
      font-size: 0.78rem;
      color: var(--muted);
      margin-top: 0.9rem;
    }

    .hero-card {
      border-radius: 1.25rem;
      border: 1px solid rgba(148,163,184,0.45);
      background: radial-gradient(circle at top left, rgba(37,99,235,0.28), rgba(15,23,42,0.98));
      padding: 1.3rem;
      box-shadow: 0 26px 70px rgba(15,23,42,0.95);
    }

    .hero-list {
      list-style: none;
      margin-top: 0.65rem;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .hero-list li {
      margin-bottom: 0.25rem;
    }

    /* CARDS & GRIDS */
    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3,minmax(0,1fr));
      gap: 1.25rem;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2,minmax(0,1fr));
      gap: 1.25rem;
    }

    .card {
      background: #020617;
      border-radius: 1rem;
      border: 1px solid var(--border);
      padding: 1.1rem 1.2rem;
    }

    .card h3 {
      font-size: 0.98rem;
      margin-bottom: 0.35rem;
    }

    .card p {
      font-size: 0.82rem;
      color: var(--muted);
    }

    ul {
      padding-left: 1.1rem;
    }

    li {
      margin-bottom: 0.3rem;
    }

    .tagline {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 0.4rem;
    }

    .price {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.1rem;
    }

    .price small {
      font-size: 0.8rem;
      font-weight: 400;
      color: var(--muted);
    }

    /* PORTAL */
    .portal-grid {
      display: grid;
      grid-template-columns: minmax(0,1.1fr) minmax(0,1fr);
      gap: 2rem;
      align-items: flex-start;
    }

    .portal-login-card {
      background: #020617;
      border-radius: 1rem;
      border: 1px solid var(--border);
      padding: 1.1rem 1.2rem;
    }

    .portal-login-card h3 {
      font-size: 0.95rem;
      margin-bottom: 0.4rem;
    }

    .form-group {
      margin-top: 0.75rem;
      font-size: 0.8rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.2rem;
    }

    input[type="email"],
    input[type="password"],
    input[type="text"] {
      width: 100%;
      border-radius: 0.55rem;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.96);
      color: #e5e7eb;
      padding: 0.45rem 0.6rem;
      font-size: 0.8rem;
      outline: none;
    }

    input::placeholder {
      color: #6b7280;
    }

    .portal-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin-top: 0.95rem;
      align-items: center;
    }

    .portal-helper {
      font-size: 0.72rem;
      color: var(--muted);
      margin-top: 0.45rem;
    }

    .portal-dashboard {
      background: #020617;
      border-radius: 1rem;
      border: 1px solid var(--border);
      padding: 1.1rem 1.2rem;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.6rem;
      margin-bottom: 0.7rem;
      font-size: 0.82rem;
    }

    .dashboard-header small {
      color: var(--muted);
      font-size: 0.75rem;
    }

    .badge-role {
      border-radius: 999px;
      border: 1px solid rgba(59,130,246,0.7);
      padding: 0.12rem 0.55rem;
      font-size: 0.72rem;
      text-transform: capitalize;
    }

    .overall-pill {
      border-radius: 999px;
      padding: 0.12rem 0.55rem;
      font-size: 0.72rem;
      border: 1px solid rgba(148,163,184,0.6);
    }

    .overall-pill.pending { border-color: var(--pending); color: var(--pending); }
    .overall-pill.complete { border-color: var(--success); color: var(--success); }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.6rem;
      font-size: 0.78rem;
    }

    th, td {
      border-bottom: 1px solid rgba(31,41,55,0.9);
      padding: 0.35rem 0.2rem;
      text-align: left;
    }

    th {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 0.7rem;
      color: var(--muted);
    }

    .status-pill {
      border-radius: 999px;
      padding: 0.12rem 0.55rem;
      font-size: 0.72rem;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      background: rgba(15,23,42,0.98);
      border: 1px solid rgba(55,65,81,0.9);
    }

    .status-pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
    }

    .status-pending .status-pill-dot { background: var(--pending); }
    .status-in-progress .status-pill-dot { background: var(--accent); }
    .status-complete .status-pill-dot { background: var(--success); }

    .status-pending { color: var(--pending); }
    .status-in-progress { color: var(--accent); }
    .status-complete { color: var(--success); }

    .dashboard-note {
      font-size: 0.72rem;
      color: var(--muted);
      margin-top: 0.6rem;
    }

    footer {
      border-top: 1px solid rgba(31,41,55,0.9);
      padding: 1rem 0;
      background: rgba(15,23,42,0.96);
      font-size: 0.75rem;
      color: var(--muted);
    }

    footer .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 0.6rem;
    }

    /* RESPONSIVE */
    @media (max-width: 900px) {
      .hero-grid,
      .grid-3,
      .grid-2,
      .portal-grid {
        grid-template-columns: minmax(0,1fr);
      }
      .nav-links {
        display: none;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="container nav">
    <div class="logo">
      <div class="logo-mark">1128</div>
      <div class="logo-text">
        <span>1128 MANAGEMENT CORP</span>
        <span>C-Corp Setup â€¢ Management â€¢ Portal</span>
      </div>
    </div>
    <nav class="nav-links">
      <a href="#hero">Overview</a>
      <a href="#bundle">C-Corp Setup</a>
      <a href="#addons">Add-On Services</a>
      <a href="#refund">Policies</a>
      <a href="#portal">Client Portal</a>
    </nav>
    <div class="nav-cta">
      <span class="pill">Mississippi â€¢ Multi-Entity</span>
      <button class="btn-outline" onclick="scrollToSection('portal')">Client Portal Login</button>
    </div>
  </div>
</header>

<main>
  <!-- HERO / MARKETING -->
  <section id="hero" class="hero">
    <div class="container hero-grid">
      <div>
        <div class="hero-kicker">
          <span>C-Corp Setup â€¢ Management â€¢ Ongoing Support</span>
        </div>
        <h1 class="hero-title">
          We donâ€™t just file your corporation.<br />
          <span>We organize your business and keep it moving.</span>
        </h1>
        <p class="hero-subtitle">
          1128 Management Corp handles your C-Corporation setup, basic business profile
          (address, phone, email, website), and banking/payment processing support,
          then gives you a private client portal for updates and documentation.
        </p>
        <div class="hero-actions">
          <button class="btn" onclick="scrollToSection('bundle')">
            ðŸ’¼ View $300 C-Corp Setup Bundle
          </button>
          <a class="btn-outline" href="https://buy.stripe.com/4gM00jddY2Q228qanU1ck07" target="_blank" rel="noopener">
            ðŸ’³ Buy Support Credits (from $5)
          </a>
        </div>
        <p class="hero-note">
          Minimum timeline for full results is approximately 90 days. Work begins within
          3 business days after you sign up and complete intake.
        </p>
      </div>

      <div class="hero-card">
        <h3 style="font-size:0.9rem;">What lives inside your client portal</h3>
        <p style="font-size:0.8rem;color:var(--muted);">
          Once you are onboarded as a client, you receive login access to track key pieces of work:
        </p>
        <ul class="hero-list">
          <li>âœ” Business name, address, phone, email, and website details</li>
          <li>âœ” State filing / C-Corporation paperwork status</li>
          <li>âœ” EIN assistance & documentation backup</li>
          <li>âœ” Banking and payment processing setup status</li>
          <li>âœ” Notes and links we place on file for you</li>
        </ul>
        <p class="tagline">
          The portal is read-only for clients. 1128 updates statuses, documents, and notes on the backend.
        </p>
      </div>
    </div>
  </section>

  <!-- BUNDLE -->
  <section id="bundle">
    <div class="container">
      <div class="section-eyebrow">C-CORP SETUP BUNDLE</div>
      <h2 class="section-title">$300 C-Corporation Setup & Management Kickoff</h2>
      <p class="section-subtitle">
        A simple, flat bundle to get your C-Corporation formed and organized, then ready
        for payment processors and future funding conversations.
      </p>

      <div class="grid-3" style="margin-top:1.6rem;">
        <div class="card">
          <h3>1. Formation & Core Profile</h3>
          <p>
            We use your intake to set up your business foundation and core identity.
          </p>
          <ul style="margin-top:0.45rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ C-Corporation formation (state filing)</li>
            <li>â€¢ Business name & entity details</li>
            <li>â€¢ Business address (mailing profile)</li>
            <li>â€¢ Business phone & email profile</li>
            <li>â€¢ Basic website info (for processors & banks)</li>
          </ul>
        </div>

        <div class="card">
          <h3>2. EIN & Banking / Processing Setup</h3>
          <p>
            We help get you into position for real-world money movement.
          </p>
          <ul style="margin-top:0.45rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ IRS EIN assistance & guidance</li>
            <li>â€¢ Business banking setup support</li>
            <li>â€¢ Card payment / processor setup support</li>
            <li>â€¢ Checklist to keep everything consistent</li>
          </ul>
        </div>

        <div class="card">
          <h3>3. Portal & Documentation</h3>
          <p>
            Your client portal keeps important status and documents in one place.
          </p>
          <ul style="margin-top:0.45rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ Client portal login (email + password)</li>
            <li>â€¢ Status checklist for key milestones</li>
            <li>â€¢ Space for links and uploaded documents</li>
            <li>â€¢ Ongoing updates handled by 1128</li>
          </ul>
        </div>
      </div>

      <div class="card" style="margin-top:1.3rem;">
        <div class="price">
          $300 <small>total service fee â€“ state / government fees are included for this package.</small>
        </div>
        <p class="tagline">
          This covers our service and the standard state / IRS fees associated with the C-Corp setup for this package.
          Bank approvals, processor approvals, and funding results are always decided by those institutions.
        </p>
      </div>
    </div>
  </section>

  <!-- ADD-ON SERVICES -->
  <section id="addons">
    <div class="container">
      <div class="section-eyebrow">ADD-ON SERVICES</div>
      <h2 class="section-title">Optional extras as your business grows</h2>
      <p class="section-subtitle">
        These are common add-ons that can be quoted and scheduled after your initial C-Corp setup.
      </p>

      <div class="grid-3" style="margin-top:1.6rem;">
        <div class="card">
          <h3>Brand & Digital Presence</h3>
          <ul style="margin-top:0.4rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ Website build or rebuild â€“ <strong>$399</strong></li>
            <li>â€¢ Business phone & email setup â€“ <strong>$89</strong></li>
            <li>â€¢ Corporate document creation â€“ <strong>$89â€“$399</strong></li>
          </ul>
        </div>

        <div class="card">
          <h3>Payments & Systems</h3>
          <ul style="margin-top:0.4rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ Payment processor setup â€“ <strong>$199</strong></li>
            <li>â€¢ Business systems setup (CRM, portal, etc.) â€“ <strong>$299</strong></li>
          </ul>
        </div>

        <div class="card">
          <h3>Funding Strategy & Mapping</h3>
          <p style="margin-top:0.2rem;">
            Higher-touch consulting to help map your business activity, documentation, and
            processor / banking story in a way that is easier for lenders to understand.
          </p>
          <p style="margin-top:0.5rem;font-size:0.8rem;color:var(--muted);">
            â€¢ Funding strategy and mapping â€“ <strong>$999</strong>
          </p>
        </div>
      </div>

      <div class="card" style="margin-top:1.3rem;">
        <h3 style="font-size:0.92rem;">Support Credits â€“ public option</h3>
        <p style="font-size:0.8rem;color:var(--muted);margin-top:0.35rem;">
          If you only need light help, you can purchase Support Credits instead of a full package.
          Credits start at <strong>$5</strong>, come in options such as $5, $10, and $20, and you can
          adjust quantity at checkout. They are typically applied to questions, document tweaks,
          or small tasks.
        </p>
        <div style="margin-top:0.7rem;">
          <a class="btn" href="https://buy.stripe.com/4gM00jddY2Q228qanU1ck07" target="_blank" rel="noopener">
            Buy Support Credits
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- POLICIES -->
  <section id="refund">
    <div class="container">
      <div class="section-eyebrow">TIMELINE & REFUND POLICY</div>
      <h2 class="section-title">How long things take & how refunds work</h2>
      <p class="section-subtitle">
        This is a service-based business. Work, filings, and coordination start quickly
        once you sign up. To keep things clear, here is how timing and refunds are handled.
      </p>

      <div class="grid-2" style="margin-top:1.6rem;">
        <div class="card">
          <h3>Timeline for work</h3>
          <ul style="margin-top:0.4rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ We aim to begin active processing within <strong>3 business days</strong> after signup and intake.</li>
            <li>â€¢ The minimum expectation for full results (formation + basic setup) is about <strong>90 days</strong>.</li>
            <li>â€¢ Some items (such as state processing, IRS response, bank and processor approvals) are controlled by those institutions, not by 1128.</li>
          </ul>
        </div>

        <div class="card">
          <h3>Refunds & credits</h3>
          <ul style="margin-top:0.4rem;font-size:0.8rem;color:var(--muted);">
            <li>â€¢ Service fees paid to 1128 Management Corp are generally <strong>non-refundable</strong>.</li>
            <li>â€¢ We do not guarantee approvals from banks, processors, or lenders.</li>
            <li>â€¢ Any exceptions or adjustments must follow applicable law and the policies of our payment processor (Stripe).</li>
            <li>â€¢ If there is a clear service error on our side, we will review the situation and work toward a fair resolution.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- CLIENT PORTAL -->
  <section id="portal">
    <div class="container">
      <div class="section-eyebrow">CLIENT PORTAL</div>
      <h2 class="section-title">Track your setup, management, and documentation in one place.</h2>
      <p class="section-subtitle">
        This portal is for active 1128 Management Corp clients. Each person gets their own email + password login.
        We keep your status checklist and important documents updated on the backend.
      </p>

      <div class="portal-grid" style="margin-top:1.6rem;">
        <!-- LEFT: EXPLANATION -->
        <div>
          <div class="card">
            <h3 style="font-size:0.95rem;">How the client portal works</h3>
            <ol style="margin-top:0.4rem;font-size:0.8rem;color:var(--muted);padding-left:1.15rem;">
              <li>You complete payment and the intake forms 1128 provides.</li>
              <li>1128 creates or confirms your portal login using the email you provided.</li>
              <li>We initialize your checklist and begin updating your file in our system.</li>
              <li>When you log in, you can see:
                <ul style="margin-top:0.2rem;padding-left:1rem;">
                  <li>â€¢ Overall status of your C-Corp setup and management work.</li>
                  <li>â€¢ A checklist of key items (name, address, phone, website, EIN, banking, etc.).</li>
                  <li>â€¢ Status for each item: Pending, In Progress, or Complete.</li>
                  <li>â€¢ Notes and links that 1128 has placed on file for you.</li>
                </ul>
              </li>
            </ol>
            <p class="portal-helper" style="margin-top:0.7rem;">
              You must be logged in to view any internal status or documents. Clients see a read-only view; 1128 updates items from the backend.
            </p>
          </div>
        </div>

        <!-- RIGHT: LOGIN + DASHBOARD -->
        <div>
          <!-- LOGIN CARD -->
          <div id="portal-login-section" class="portal-login-card">
            <h3>Client Login</h3>
            <p class="portal-helper">
              Use this if you are an existing or newly onboarded 1128 Management Corp client. New
              registrations created here are automatically treated as <strong>Clients</strong>.
            </p>

            <div class="form-group">
              <label for="login-email">Email</label>
              <input id="login-email" type="email" placeholder="you@email.com" />
            </div>

            <div class="form-group">
              <label for="login-password">Password</label>
              <input id="login-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
            </div>

            <div class="portal-actions">
              <button id="portal-login-btn" class="btn" type="button" onclick="handleLogin()">
                Login
              </button>
              <button id="portal-register-btn" class="btn-outline" type="button" onclick="handleRegister()">
                Register New Client Account
              </button>
              <button class="btn-outline" type="button" style="font-size:0.72rem;padding:0.35rem 0.7rem;"
                      onclick="handlePasswordReset()">
                Forgot Password
              </button>
            </div>

            <p class="portal-helper">
              Use <strong>Register</strong> once per email. Staff and admin accounts are created separately by 1128.
            </p>
          </div>

          <!-- DASHBOARD -->
          <div id="portal-dashboard-section" class="portal-dashboard" style="display:none;margin-top:1rem;">
            <div class="dashboard-header">
              <div>
                <div style="font-size:0.9rem;font-weight:500;">Client Checklist & Status</div>
                <small>Below is a read-only view of the main items 1128 is working on for you.</small>
              </div>
              <div style="text-align:right;">
                <div style="font-size:0.75rem;margin-bottom:0.15rem;">
                  Logged in as: <span id="dashboard-role-label" class="badge-role">client</span>
                </div>
                <button class="btn-outline" type="button" style="font-size:0.72rem;padding:0.3rem 0.7rem;"
                        onclick="handleLogout()">
                  Logout
                </button>
              </div>
            </div>

            <div style="display:flex;justify-content:space-between;align-items:center;gap:0.6rem;">
              <div style="font-size:0.78rem;color:var(--muted);">
                Overall status:
                <span id="checklist-overall-status-pill" class="overall-pill pending">
                  <span id="checklist-overall-status-text">Pending</span>
                </span>
              </div>
              <small id="checklist-updated-note" style="color:var(--muted);font-size:0.7rem;">
                Last updated when 1128 saved your file.
              </small>
            </div>

            <table>
              <thead>
              <tr>
                <th style="width:55%;">Item</th>
                <th>Status</th>
              </tr>
              </thead>
              <tbody id="checklist-rows">
              <!-- Filled by JavaScript -->
              </tbody>
            </table>

            <p class="dashboard-note">
              If something looks incorrect or you have a question, contact 1128 directly.
              Portal data is updated by 1128 after work is completed or moved forward.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="container">
    <span>Â© <span id="year"></span> 1128 Management Corp. All rights reserved.</span>
    <span>Service-based business â€¢ C-Corp setup â€¢ Management â€¢ Client Portal.</span>
  </div>
</footer>

<!-- FIREBASE + PORTAL LOGIC -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import {
    getAuth,
    onAuthStateChanged,
    createUserWithEmailAndPassword,
    signInWithEmailAndPassword,
    signOut,
    sendPasswordResetEmail
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  import {
    getFirestore,
    doc,
    getDoc,
    setDoc
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

  // --- Firebase config (from your project settings) ---
  const firebaseConfig = {
    apiKey: "AIzaSyDWgaRI40PO-fgP8xa_m1OWg-3AgOKCQW4",
    authDomain: "management-portal-da4aa.firebaseapp.com",
    projectId: "management-portal-da4aa",
    storageBucket: "management-portal-da4aa.firebasestorage.app",
    messagingSenderId: "336550662632",
    appId: "1:336550662632:web:da5a240a56fdd2df3a145d",
    measurementId: "G-CCWG9GVVS7"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // --- Default checklist template for new clients ---
  const defaultClientChecklist = {
    overallStatus: "Pending",
    steps: [
      { label: "Business Name",      status: "Pending" },
      { label: "Address",            status: "Pending" },
      { label: "Phone Number",       status: "Pending" },
      { label: "Website",            status: "Pending" },
      { label: "Email Address",      status: "Pending" },
      { label: "State Filing",       status: "Pending" },
      { label: "EIN",                status: "Pending" },
      { label: "Banking Setup",      status: "Pending" },
      { label: "Payment Processing", status: "Pending" }
    ],
    createdAt: Date.now()
  };

  // --- Helpers to show/hide sections ---
  function setLoggedOutUI() {
    const loginSection = document.getElementById("portal-login-section");
    const dashSection = document.getElementById("portal-dashboard-section");
    if (loginSection) loginSection.style.display = "block";
    if (dashSection) dashSection.style.display = "none";
  }

  function setLoggedInUI(role, checklistData) {
    const loginSection = document.getElementById("portal-login-section");
    const dashSection = document.getElementById("portal-dashboard-section");
    const roleLabel = document.getElementById("dashboard-role-label");
    if (loginSection) loginSection.style.display = "none";
    if (dashSection) dashSection.style.display = "block";
    if (roleLabel) roleLabel.textContent = role || "client";

    renderChecklist(checklistData);
  }

  function renderChecklist(data) {
    const overallTextEl = document.getElementById("checklist-overall-status-text");
    const overallPillEl = document.getElementById("checklist-overall-status-pill");
    const tbody = document.getElementById("checklist-rows");

    const overall = (data && data.overallStatus) || "Pending";
    if (overallTextEl) overallTextEl.textContent = overall;

    if (overallPillEl) {
      const norm = overall.toLowerCase().replace(/\s+/g, "-");
      overallPillEl.className = "overall-pill " + norm;
    }

    if (!tbody) return;

    tbody.innerHTML = "";
    const steps = Array.isArray(data && data.steps) ? data.steps : [];

    steps.forEach((step, idx) => {
      const tr = document.createElement("tr");

      const tdLabel = document.createElement("td");
      tdLabel.textContent = step.label || `Item ${idx + 1}`;
      tr.appendChild(tdLabel);

      const tdStatus = document.createElement("td");
      const status = step.status || "Pending";
      const normStatus = status.toLowerCase().replace(/\s+/g, "-");

      const span = document.createElement("span");
      span.className = "status-pill status-" + normStatus;

      const dot = document.createElement("span");
      dot.className = "status-pill-dot";
      span.appendChild(dot);

      const txt = document.createElement("span");
      txt.textContent = status;
      span.appendChild(txt);

      tdStatus.appendChild(span);
      tr.appendChild(tdStatus);

      tbody.appendChild(tr);
    });
  }

  // --- Auth actions ---
  window.handleRegister = async function () {
    const emailInput = document.getElementById("login-email");
    const passwordInput = document.getElementById("login-password");
    const registerBtn = document.getElementById("portal-register-btn");

    const email = (emailInput?.value || "").trim();
    const password = passwordInput?.value || "";

    if (!email || !password) {
      alert("Please enter an email and password.");
      return;
    }

    try {
      if (registerBtn) {
        registerBtn.disabled = true;
        registerBtn.textContent = "Registering...";
      }

      // 1) Create Auth user
      const cred = await createUserWithEmailAndPassword(auth, email, password);
      const uid = cred.user.uid;

      // 2) Save user record as "client"
      await setDoc(doc(db, "users", uid), {
        email,
        role: "client",
        createdAt: Date.now()
      });

      // 3) Initialize clientStatus checklist
      await setDoc(doc(db, "clientStatus", uid), defaultClientChecklist);

      alert("Client account created. You are now logged in.");
      if (passwordInput) passwordInput.value = "";
    } catch (err) {
      console.error(err);
      alert("Could not register: " + err.message);
    } finally {
      if (registerBtn) {
        registerBtn.disabled = false;
        registerBtn.textContent = "Register New Client Account";
      }
    }
  };

  window.handleLogin = async function () {
    const emailInput = document.getElementById("login-email");
    const passwordInput = document.getElementById("login-password");
    const loginBtn = document.getElementById("portal-login-btn");

    const email = (emailInput?.value || "").trim();
    const password = passwordInput?.value || "";

    if (!email || !password) {
      alert("Please enter your email and password.");
      return;
    }

    try {
      if (loginBtn) {
        loginBtn.disabled = true;
        loginBtn.textContent = "Logging in...";
      }
      await signInWithEmailAndPassword(auth, email, password);
    } catch (err) {
      console.error(err);
      alert("Login failed: " + err.message);
    } finally {
      if (loginBtn) {
        loginBtn.disabled = false;
        loginBtn.textContent = "Login";
      }
    }
  };

  window.handleLogout = async function () {
    try {
      await signOut(auth);
    } catch (err) {
      console.error(err);
      alert("Logout error: " + err.message);
    }
  };

  window.handlePasswordReset = async function () {
    const emailInput = document.getElementById("login-email");
    const email = (emailInput?.value || "").trim();

    if (!email) {
      alert("Enter your email in the login box first, then click Forgot Password.");
      return;
    }

    try {
      await sendPasswordResetEmail(auth, email);
      alert("If this email is on file, a password reset link has been sent.");
    } catch (err) {
      console.error(err);
      alert("Could not send reset email: " + err.message);
    }
  };

  // --- Watch auth state ---
  onAuthStateChanged(auth, async (user) => {
    if (!user) {
      setLoggedOutUI();
      return;
    }

    let role = "client";
    try {
      const userSnap = await getDoc(doc(db, "users", user.uid));
      if (userSnap.exists()) {
        const data = userSnap.data();
        if (data && data.role) role = data.role;
      }
    } catch (err) {
      console.error("Error loading user role:", err);
    }

    let checklistData = null;
    try {
      const statusSnap = await getDoc(doc(db, "clientStatus", user.uid));
      if (statusSnap.exists()) {
        checklistData = statusSnap.data();
      } else {
        // If somehow missing, show default but do not overwrite Firestore automatically.
        checklistData = defaultClientChecklist;
      }
    } catch (err) {
      console.error("Error loading clientStatus:", err);
    }

    setLoggedInUI(role, checklistData);
  });

  // --- Utilities exposed to global scope ---
  window.scrollToSection = function (id) {
    const el = document.getElementById(id);
    if (el) {
      el.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  };

  // Footer year
  const yearEl = document.getElementById("year");
  if (yearEl) yearEl.textContent = new Date().getFullYear();
</script>
</body>
</html>
